<?php
$wgExtensionFunctions[] = "wfPayPalExtension";

function wfPayPalExtension() {
   global $wgParser;

   $wgParser->setHook( "paypal", "renderPayPal" );
}

function renderPayPal( $input, $argv ) {
	$retv .= '<form action="https://www.paypal.com/cgi-bin/webscr" method="post">';
	$retv .= '<input type="hidden" name="cmd" value="_s-xclick">';
	$retv .= '<input type="image" src="https://www.paypal.com/en_US/i/btn/x-click-but04.gif" border="0" name="submit" alt="Make payments with PayPal - its fast, free and secure!">';
	$retv .= '<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">';
	$retv .= '<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----"></form>';
	return $retv;
}
?>
